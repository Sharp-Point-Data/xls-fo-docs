# fo:marginalia

## Summary

The `fo:marginalia` formatting object is intended to be used to produce marginalia, positioned in a separate area external to the start-edge or end-edge of the region-body.

<!-- Source: https://www.w3.org/TR/xslfo20/#fo_marginalia -->

## Areas

The `fo:marginalia` formatting object does not generate any areas. The `fo:marginalia` formatting object returns the areas generated and returned by its child `fo:inline` formatting object. The `fo:inline` element is optional. The `fo:inline` formatting object is also useful for numbered marginalia.

If the `fo:inline` is empty, the `fo:marginalia` object does not generate any area.

Additionally the `fo:marginalia` formatting object returns the block-areas with area class "xsl-marginalia" generated by its `fo:marginalia-body` child. The areas with area-class "xsl-marginalia" are placed as children of the marginalia-reference-area in the corresponding extension region.

## Constraints

- An `fo:marginalia` is not permitted to have an `fo:marginalia`, `fo:float`, `fo:footnote`, or `fo:marker` as a descendant. Additionally, an `fo:marginalia` is not permitted to have as a descendant an `fo:block-container` that generates an absolutely positioned area.
- The term "marginalia-body-area" is defined to mean the first area generated and returned by the `fo:marginalia-body`, child of the `fo:marginalia`.
- The term "anchor-area" is defined to mean the line area parent of the area generated by the `fo:inline` child of the `fo:marginalia`. If the `fo:marginalia` does not generate any area, the anchor-area is the previous line area in the pre-order visit of the area tree.

## Content Model

<!-- Source: https://www.w3.org/TR/xslfo20/#fo_marginalia -->
```xml
(inline?,marginalia-body)
```

## Properties

| Property | Inherited | Conformance Level |
|---|---|---|
| `marginalia-destination-area` | yes | Extended |
| `marginalia-relative-align` | no | Extended |

## Usage Notes

- The `marginalia-destination-area` property indicates where the marginalia content is placed. Possible values are:
  - "start": placed in the extension-region-start region
  - "end": placed in the extension-region-end region
  - "inside": placed in the extension-region-end region of an even page and in the extension-region-start of an odd page region
  - "outside": placed in the extension-region-start region of an even page and in the extension-region-end of an odd page
- The `marginalia-relative-align` property specifies the alignment of the marginalia with respect to the text it refers to:
  - "before": the before-edge of the marginalia-body-area is placed aligned with the before-edge of the anchor-area
  - "baseline": the distance between the baseline of the marginalia-body-area is the same as the distance between the baseline of the anchor-area
- The optional `fo:inline` child can be used for numbered marginalia or as an anchor point in the main text.
- Marginalia cannot be nested and cannot contain floats, footnotes, or markers.

## Code Samples

No code samples in spec for this formatting object.

## See Also

- `fo:marginalia-body` -- child formatting object containing the marginalia content
- `fo:footnote` -- another out-of-line formatting object for page-bottom notes
- `fo:float` -- out-of-line formatting object for floating content
