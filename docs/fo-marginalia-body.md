# fo:marginalia-body

## Summary

The `fo:marginalia-body` is used to generate marginalia content that is placed in the marginalia-reference-area of the corresponding extension region.

<!-- Source: https://www.w3.org/TR/xslfo20/#fo_marginalia-body -->

## Areas

The `fo:marginalia-body` generates and returns one or more block-level areas with area-class "xsl-marginalia". The areas with area-class "xsl-marginalia" are placed as children of the marginalia-reference-area in the corresponding extension region.

## Constraints

- The `fo:marginalia-body` is only permitted as a child of an `fo:marginalia`.
- The position of a marginalia in the page (i.e., the corresponding marginalia-reference-area) is indicated in the `marginalia-destination-area` attribute of the `fo:marginalia` formatting object.
- Areas with area-class equal to "xsl-marginalia" are defined to be "stackable", indicating that they are supposed to be stacked in the block-direction within their marginalia-reference-area. In addition a "special stacking rule" has to be applied for placing marginalia in the marginalia-reference-area.
- The term "marginalia-body-area" is defined to mean the first area generated and returned by the `fo:marginalia-body`. The term "anchor-area" is defined to mean the line area parent of the area generated by the `fo:inline` child of the `fo:marginalia`. If the `fo:marginalia` does not generate any area, the anchor-area is the previous line area in the pre-order visit of the area tree.
- The offset of the before-edge of the marginalia-body-area from the before-edge of the marginalia-reference-area cannot be smaller than the offset of the before-edge of the anchor-area from the before-edge of the region-reference-area. This constraint makes marginalia anchored to the text they refer to.
- The `marginalia-relative-align` property of the `fo:marginalia` formatting object allows users to further specify the alignment of a marginalia with the text it refers to.

## Content Model

<!-- Source: https://www.w3.org/TR/xslfo20/#fo_marginalia-body -->
```xml
(%block;)+
```

## Properties

| Property | Inherited | Conformance Level |
|---|---|---|
| Common Accessibility Properties | N/A | Basic |
| `id` | N/A | Basic |
| `index-class` | N/A | Extended |
| `index-key` | N/A | Extended |

## Usage Notes

- The `fo:marginalia-body` typically contains one or more `fo:block` elements with the margin note text.
- The marginalia body areas are placed in the marginalia-reference-area, which is located in the extension region at the start or end edge of the page, as specified by the `marginalia-destination-area` property on the parent `fo:marginalia`.
- Marginalia are anchored to the text they refer to: the marginalia body area cannot appear above the line of text that contains the anchor.
- When multiple marginalia are anchored near each other, they stack in the block-direction within the marginalia-reference-area.

## Code Samples

No code samples in spec for this formatting object.

## See Also

- [fo:marginalia](fo-marginalia.md) — parent formatting object that specifies destination and alignment
- [fo:footnote-body](fo-footnote-body.md) — analogous formatting object for footnote content
