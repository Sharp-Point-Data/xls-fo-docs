# Keeps and Breaks Properties

## Overview

<!-- Source: https://www.w3.org/TR/xslfo20/#keeps-and-breaks-properties -->

The keeps and breaks properties control page breaking, column breaking, and the grouping of content that should be kept together across breaks. Page breaks only apply to descendants of the fo:flow formatting object, and not within absolutely positioned areas or out-of-line areas. In descendants of fo:flow formatting objects, column breaks apply, and a column break in the last (or only) column implies a page break; column breaks in static-content apply except for those in the last (or only) column, which are ignored.

This group also includes the CSS shorthand properties `page-break-after`, `page-break-before`, and `page-break-inside`, which XSL treats as shorthands that map to the native `break-after`, `break-before`, and `keep-together`/`keep-with-next`/`keep-with-previous` properties.

## Properties

### break-after

| Field | Value |
|---|---|
| **Values** | `auto \| column \| page \| even-page \| odd-page \| inherit` |
| **Initial** | `auto` |
| **Applies to** | block-level formatting objects |
| **Inherited** | No |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#break-after -->

Specifies that the first normal area generated by formatting the next formatting object, if any, shall be the first one placed in a particular context (e.g. page-area, column-area).

Values have the following meanings:

- **auto** -- No break shall be forced. Page breaks may occur as determined by the formatter's processing as affected by the "widows", "orphans", "keep-with-next", "keep-with-previous", and "keep-together" properties.
- **column** -- Imposes a break-after condition with a context consisting of column-areas.
- **page** -- Imposes a break-after condition with a context consisting of page-areas.
- **even-page** -- Imposes a break-after condition with a context consisting of even page-areas (a blank page may be generated if necessary).
- **odd-page** -- Imposes a break-after condition with a context consisting of odd page-areas (a blank page may be generated if necessary).

This property has no effect when it appears on an fo:table-row formatting object in which there is any row spanning occurring that includes both the current fo:table-row and the subsequent one.

### break-before

| Field | Value |
|---|---|
| **Values** | `auto \| column \| page \| even-page \| odd-page \| inherit` |
| **Initial** | `auto` |
| **Applies to** | block-level formatting objects |
| **Inherited** | No |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#break-before -->

Specifies that the first area generated by formatting this formatting object shall be the first one placed in a particular context (e.g., page-area, column-area).

Values have the following meanings:

- **auto** -- No break shall be forced. Page breaks may occur as determined by the formatter's processing as affected by the "widows", "orphans", "keep-with-next", "keep-with-previous", and "keep-together" properties.
- **column** -- Imposes a break-before condition with a context consisting of column-areas.
- **page** -- Imposes a break-before condition with a context consisting of page-areas.
- **even-page** -- Imposes a break-before condition with a context consisting of even page-areas (a blank page may be generated if necessary).
- **odd-page** -- Imposes a break-before condition with a context consisting of odd page-areas (a blank page may be generated if necessary).

This property has no effect when it appears on an fo:table-row formatting object in which there is any row spanning occurring that includes both the current fo:table-row and the previous one.

### keep-together

| Field | Value |
|---|---|
| **Values** | `<keep> \| inherit` |
| **Initial** | `.within-line=auto, .within-column=auto, .within-page=auto` |
| **Applies to** | block-level and inline-level formatting objects |
| **Inherited** | Yes |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#keep-together -->

This property imposes keep-together conditions on formatting objects.

The \<keep\> datatype is composed of three components: within-line, within-column, and within-page. Different components apply to different classes of formatting objects and provide keep conditions relative to different contexts. In the case of the within-line component, the keep context consists of line-areas; for the within-column component, the keep context consists of column-areas; for the within-page component, the keep context consists of page-areas.

Values of the components have the following meanings:

- **auto** -- There are no keep-together conditions imposed by this property.
- **always** -- Imposes a keep-together condition with strength "always" in the appropriate context.
- **\<integer\>** -- Imposes a keep-together condition with strength of the given \<integer\> in the appropriate context.

### keep-with-next

| Field | Value |
|---|---|
| **Values** | `<keep> \| inherit` |
| **Initial** | `.within-line=auto, .within-column=auto, .within-page=auto` |
| **Applies to** | block-level and inline-level formatting objects |
| **Inherited** | No |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#keep-with-next -->

This property imposes keep-with-next conditions on formatting objects.

The \<keep\> datatype is composed of three components: within-line, within-column, and within-page. Different components apply to different classes of formatting objects and provide keep conditions relative to different contexts. In the case of the within-line component, the keep context consists of line-areas; for the within-column component, the keep context consists of column-areas; for the within-page component, the keep context consists of page-areas.

Values of the components have the following meanings:

- **auto** -- There are no keep-with-next conditions imposed by this property.
- **always** -- Imposes a keep-with-next condition with strength "always" in the appropriate context.
- **\<integer\>** -- Imposes a keep-with-next condition with strength of the given \<integer\> in the appropriate context.

### keep-with-previous

| Field | Value |
|---|---|
| **Values** | `<keep> \| inherit` |
| **Initial** | `.within-line=auto, .within-column=auto, .within-page=auto` |
| **Applies to** | block-level and inline-level formatting objects |
| **Inherited** | No |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#keep-with-previous -->

This property imposes keep-with-previous conditions on formatting objects.

The \<keep\> datatype is composed of three components: within-line, within-column, and within-page. Different components apply to different classes of formatting objects and provide keep conditions relative to different contexts. In the case of the within-line component, the keep context consists of line-areas; for the within-column component, the keep context consists of column-areas; for the within-page component, the keep context consists of page-areas.

Values of the components have the following meanings:

- **auto** -- There are no keep-with-previous conditions imposed by this property.
- **always** -- Imposes a keep-with-previous condition with strength "always" in the appropriate context.
- **\<integer\>** -- Imposes a keep-with-previous condition with strength of the given \<integer\> in the appropriate context.

### orphans

| Field | Value |
|---|---|
| **Values** | `<integer> \| inherit` |
| **Initial** | `2` |
| **Applies to** | block-level formatting objects |
| **Inherited** | Yes |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#orphans -->

The "orphans" property specifies the minimum number of line-areas in the first area generated by the formatting object.

In CSS2, the "orphans" property specifies the minimum number of lines of a paragraph that must be left at the bottom of a page.

XSL modification: In XSL the "orphans" property specifies the minimum number of line-areas in the first area generated by the formatting object.

### widows

| Field | Value |
|---|---|
| **Values** | `<integer> \| inherit` |
| **Initial** | `2` |
| **Applies to** | block-level formatting objects |
| **Inherited** | Yes |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#widows -->

The "widows" property specifies the minimum number of line-areas in the last area generated by the formatting object.

In CSS2, the "widows" property specifies the minimum number of lines of a paragraph that must be left at the top of a page.

XSL modification: In XSL the "widows" property specifies the minimum number of line-areas in the last area generated by the formatting object.

### page-break-after

| Field | Value |
|---|---|
| **Values** | `auto \| always \| avoid \| left \| right \| inherit` |
| **Initial** | `auto` |
| **Applies to** | block-level formatting objects |
| **Inherited** | No |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#page-break-after -->

This CSS property is treated as a shorthand by XSL and maps as follows:

- **auto** -- break-after = "auto"; keep-with-next = "auto"
- **always** -- break-after = "page"; keep-with-next = "auto"
- **avoid** -- break-after = "auto"; keep-with-next = "always"
- **left** -- break-after = "even-page"; keep-with-next = "auto"
- **right** -- break-after = "odd-page"; keep-with-next = "auto"

A potential page break location is typically under the influence of the parent element's "page-break-inside" property, the "page-break-after" property of the preceding element, and the "page-break-before" property of the following element. When these properties have values other than "auto", the values "always", "left", and "right" take precedence over "avoid".

### page-break-before

| Field | Value |
|---|---|
| **Values** | `auto \| always \| avoid \| left \| right \| inherit` |
| **Initial** | `auto` |
| **Applies to** | block-level formatting objects |
| **Inherited** | No |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#page-break-before -->

This CSS property is treated as a shorthand by XSL and maps as follows:

- **auto** -- break-before = "auto"; keep-with-previous = "auto"
- **always** -- break-before = "page"; keep-with-previous = "auto"
- **avoid** -- break-before = "auto"; keep-with-previous = "always"
- **left** -- break-before = "even-page"; keep-with-previous = "auto"
- **right** -- break-before = "odd-page"; keep-with-previous = "auto"

A potential page break location is typically under the influence of the parent element's "page-break-inside" property, the "page-break-after" property of the preceding element, and the "page-break-before" property of the following element. When these properties have values other than "auto", the values "always", "left", and "right" take precedence over "avoid".

### page-break-inside

| Field | Value |
|---|---|
| **Values** | `avoid \| auto \| inherit` |
| **Initial** | `auto` |
| **Applies to** | block-level formatting objects |
| **Inherited** | Yes |
| **Percentages** | N/A |
| **Media** | visual |

<!-- Source: https://www.w3.org/TR/xslfo20/#page-break-inside -->

This CSS property is treated as a shorthand by XSL and maps as follows:

- **auto** -- keep-together = "auto"
- **avoid** -- keep-together = "always"

A potential page break location is typically under the influence of the parent element's "page-break-inside" property, the "page-break-after" property of the preceding element, and the "page-break-before" property of the following element. When these properties have values other than "auto", values "always", "left", and "right" take precedence over "avoid".

## Code Samples

No code samples in spec for this property group.

## See Also

- [guide-keeps-breaks](guide-keeps-breaks.md) -- Detailed guide on keep and break semantics
- [fo-block](fo-block.md) -- Block-level formatting object supporting keeps and breaks
- [fo-table-row](fo-table-row.md) -- Table row formatting object with break constraints
- [fo-page-sequence](fo-page-sequence.md) -- Page sequence context for breaks
