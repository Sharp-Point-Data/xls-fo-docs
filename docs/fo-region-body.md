# fo:region-body

## Summary

The `fo:region-body` formatting object is used in constructing an `fo:simple-page-master`. It specifies a viewport/reference pair that is located in the "center" of the `fo:simple-page-master`. The `overflow` trait controls how much of the underlying region-reference-area is visible; that is, whether the region-reference-area is clipped by its parent region-viewport-area.

Typically, for paged media and when no explicit flow map is specified, the areas returned by the `fo:flow` formatting object in an `fo:page-sequence` are made to be descendants of a sequence of region-reference-areas that correspond to the region-body. If the `fo:flow` flow is assigned to some other region, then the areas returned by the `fo:flow` are constrained to be descendants of region-reference-areas generated using the assigned region-master.

The body region should be sized and positioned within the `fo:simple-page-master` so that there is room for the areas returned by the flow assigned to the `fo:region-body` and for any desired side regions (`fo:region-before`, `fo:region-after`, `fo:region-start`, and `fo:region-end`) that are to be placed on the same page. The margins on the `fo:region-body` are used to position the region-viewport-area and to leave space for the other regions that surround the `fo:region-body`.

The `fo:region-body` may also be used to provide multiple columns. When the `column-count` trait is greater than one, the region-body will be subdivided into multiple columns.

## Areas

The `fo:region-body` formatting object is used to generate one region-viewport-area and one region-reference-area whenever an `fo:simple-page-master` that has an `fo:region-body` as a child is used to generate a page. A scrolling mechanism shall be provided, in an implementation-defined manner, if the value of the `overflow` trait is "scroll".

The position and size of the region-viewport-area is specified relative to the content-rectangle of the page-reference-area generated by `fo:simple-page-master`. The content-rectangle of the region-viewport-area is indented from the content-rectangle of the page-reference-area by the values of the `margin-top`, `margin-bottom`, `margin-left`, and `margin-right` properties. The values of the `padding` and `border-width` traits must be "0".

The region-reference-area generated using an `fo:region-body` is the child of the region-viewport-area. The `writing-mode` of the `fo:region-body` defines the column-progression within the region. The inline-progression-direction is used to determine the stacking direction for columns and the default flow order of text from column-to-column.

In addition to the viewport/reference pair, when the region-body is used to generate areas, at least one and up to three additional reference-areas are generated:
- The optional **before-float-reference-area**
- The optional **footnote-reference-area**
- The **main-reference-area**, which comprises the space left after space is borrowed for the other two reference-areas. The main-reference-area has no padding, border, or space associated with it.

The main-reference-area has as its children a sequence of **span-reference-areas**. These are reference-area block-areas with zero border and padding, whose inline-progression-dimension is equal to that of the main-reference-area, and which are normally stacked within the main-reference-area.

Each span-reference-area has one or more reference-area children, designated as **normal-flow-reference-areas**. The number and placement of the children of a span-reference-area depends on the `column-count` trait of the span-reference-area. Block-areas returned from the flows with a `span` of "all" are children of span-reference-areas with `column-count` equal to 1, and block-areas returned from the flows with a `span` of "none" are children of span-reference-areas with `column-count` equal to the refined value of the `column-count` property of the associated region-reference-area.

It is an error to specify a `column-count` other than 1 if the `overflow` property has the value "scroll". An implementation may recover by behaving as if "1" had been specified.

The inline-progression-dimension of each normal-flow-reference-area is determined by:

```
column-in-size = (body-in-size - (N - 1) * column-gap) / N
```

where N is the column-count.

All areas generated by using the `fo:region-body` are of area-class "xsl-absolute".

## Content Model

```
EMPTY
```

The `fo:region-body` has no children. It is an empty element whose properties configure the region.

## Properties

| Property | Type | Inherited | Conformance Level |
|---|---|---|---|
| Common Border, Padding, and Background Properties | | Various | Basic |
| Common Margin Properties - Block | | No | Basic |
| clip | auto \| rect(...) \| inherit | No | Extended |
| column-count | \<number\> | No | Extended |
| column-gap | \<length\> \| \<percentage\> | No | Extended |
| display-align | auto \| before \| center \| after \| inherit | No | Basic |
| overflow | visible \| hidden \| scroll \| error-if-overflow \| auto \| paginate \| inherit | No | Basic |
| region-name | \<name\> | No | Basic |
| reference-orientation | 0 \| 90 \| 180 \| 270 \| -90 \| -180 \| -270 \| inherit | No | Extended |
| writing-mode | lr-tb \| rl-tb \| tb-rl \| tb-lr \| lr \| rl \| tb \| inherit | No | Basic |

## Trait Derivation

The `reference-orientation` and `writing-mode` of the region-viewport-area are determined by the formatting object that generates the area (see `fo:page-sequence`). The `reference-orientation` of the region-reference-area is set to "0" and is therefore the same as the orientation established by the region-viewport-area. The `writing-mode` of the region-reference-area is set to the same value as that of the region-viewport-area.

The traits on the span-reference-areas and on the normal-flow-reference-areas are determined in the same manner as described in the refinement section.

## Constraints

The constraints applicable to all regions (see `fo:simple-page-master`) all apply.

The `inline-progression-dimension` of the region-viewport-area is determined by the `inline-progression-dimension` of the content-rectangle of the page-reference-area minus the values of the `start-indent` and `end-indent` traits of the region-master.

The `block-progression-dimension` of the region-viewport-area is determined by the `block-progression-dimension` of the content-rectangle for the page-reference-area minus the values of the `space-before` and `space-after` traits of the region-master.

The values of the `space-before` and `start-indent` traits are used to position the region-viewport-area relative to the before-edge and start-edge of the content-rectangle of the page-reference-area.

## Usage Notes

- The `fo:region-body` is the primary content area of a page. In most documents, the main flowing text is assigned to this region.
- Use margins on `fo:region-body` to reserve space for side regions (`fo:region-before`, `fo:region-after`, `fo:region-start`, `fo:region-end`). The spacing between the side regions and the region-body is determined by subtracting the relevant `extent` trait on the side regions from the corresponding margin on the `fo:region-body`.
- When `column-count` is greater than 1, the region-body is subdivided into multiple columns. The `column-gap` property controls the space between columns.
- The default `region-name` is "xsl-region-body". A custom `region-name` may be specified for use with `fo:flow` or `fo:static-content` via the `flow-name` property.
- If the `writing-mode` is "rl-tb", columns are ordered from right-to-left, because the start-edge is on the right in an "rl-tb" writing-mode.

## Code Samples

<!-- Source: https://www.w3.org/TR/xslfo20/#fo_region-body -->
```xml
EMPTY
```

## See Also

- `fo:simple-page-master` -- parent formatting object that contains region definitions
- `fo:region-before` -- the "before" side region (header in lr-tb writing-mode)
- `fo:region-after` -- the "after" side region (footer in lr-tb writing-mode)
- `fo:region-start` -- the "start" side region (left sidebar in lr-tb writing-mode)
- `fo:region-end` -- the "end" side region (right sidebar in lr-tb writing-mode)
- `fo:flow` -- provides flowing content that is distributed into regions
- `fo:static-content` -- provides repeating content assigned to regions
- `fo:region` -- XSL-FO 2.0 absolutely-positioned region within `fo:page-master`
