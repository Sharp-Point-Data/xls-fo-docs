# fo:region-before

## Summary

The `fo:region-before` formatting object is used in constructing an `fo:simple-page-master`. It specifies a viewport/reference pair that is located on the "before" side of the page-reference-area. In lr-tb `writing-mode`, this region corresponds to the header region. The `overflow` trait controls how much of the underlying region-reference-area is visible; that is, whether the region-reference-area is clipped by its parent region-viewport-area.

## Areas

The `fo:region-before` formatting object is used to generate one region-viewport-area and one region-reference-area.

The values of the `padding` and `border-width` traits must be "0".

The before-edge of the content-rectangle of this region-viewport-area is positioned coincident with the before-edge of the content-rectangle of the page-reference-area generated using the parent `fo:simple-page-master`. The `block-progression-dimension` of the region-viewport-area is determined by the `extent` trait on the `fo:region-before` formatting object.

The `inline-progression-dimension` of the region-viewport-area is determined by the `precedence` trait on the `fo:region-before`:
- If the value of the `precedence` trait is `true`, the `inline-progression-dimension` extends up to the start-edge and end-edge of the content-rectangle of the page-reference-area. In this case, the region-before region-viewport-area acts like a float into areas generated by the region-start and region-end.
- If the value of the `precedence` trait is `false`, the adjacent regions float into the area generated by the `fo:region-before` and the extent of the `fo:region-before` is effectively reduced by the incursions of the adjacent regions.

The region-reference-area lies on a canvas underneath the region-viewport-area.

The size of the region-reference-area depends on the setting of the `overflow` trait:
- If the value is "auto", "hidden", "error-if-overflow", "paginate", or "visible", the size of the reference-area is the same as the size of the viewport.
- If the value is "scroll", the size of the reference-area is equal to the size of the viewport in the inline-progression-direction in the `writing-mode` for the region and has no constraint in the block-progression-direction (which implies that it grows to hold the distribution of all the content bound to the region).

## Content Model

```
EMPTY
```

The `fo:region-before` has no children. It is an empty element whose properties configure the region.

## Properties

| Property | Type | Inherited | Conformance Level |
|---|---|---|---|
| Common Border, Padding, and Background Properties | | Various | Basic |
| clip | auto \| rect(...) \| inherit | No | Extended |
| display-align | auto \| before \| center \| after \| inherit | No | Basic |
| extent | \<length\> | No | Basic |
| overflow | visible \| hidden \| scroll \| error-if-overflow \| auto \| paginate \| inherit | No | Basic |
| precedence | true \| false \| inherit | No | Extended |
| region-name | \<name\> | No | Basic |
| reference-orientation | 0 \| 90 \| 180 \| 270 \| -90 \| -180 \| -270 \| inherit | No | Extended |
| writing-mode | lr-tb \| rl-tb \| tb-rl \| tb-lr \| lr \| rl \| tb \| inherit | No | Basic |

## Trait Derivation

The `reference-orientation` and `writing-mode` of the region-viewport-area are determined by the formatting object that generates the area (see `fo:page-sequence`). The `reference-orientation` of the region-reference-area is set to "0" and is therefore the same as the orientation established by the region-viewport-area. The `writing-mode` of the region-reference-area is set to the same value as that of the region-viewport-area.

## Constraints

The constraints on the size and position of the region-reference-area generated using the `fo:region-before` are covered in the "Constraints applicable to regions" section of `fo:simple-page-master`.

## Usage Notes

- The `fo:region-before` is typically used for page headers. In lr-tb writing-mode, this is the region at the top of the page.
- The `extent` property determines the block-progression-dimension (height in lr-tb) of this region.
- The `precedence` property controls whether the region-before extends the full width of the page or gives way to `fo:region-start` and `fo:region-end`:
  - `precedence="true"` means the region-before spans the full page width; region-start and region-end are shortened to accommodate it.
  - `precedence="false"` (the default) means region-start and region-end extend to the page edges, and region-before is narrowed.
- The default `region-name` is "xsl-region-before". A custom `region-name` may be specified for use with `fo:static-content` via the `flow-name` property.
- Content is assigned to this region by an `fo:static-content` whose `flow-name` matches the `region-name` of this region.

## Code Samples

No code samples in spec for this formatting object's own section. However, `fo:region-before` appears in code samples in other spec sections:

### Region-before with extent and custom region-name

<!-- Source: xslspec.xml line 5725 -->
```xml
<fo:region-before region-name="xsl-region-before" extent="0.75in"/>
```

### Region-before with precedence in a full page-master

<!-- Source: xslspec.xml line 9395 -->
```xml
<fo:region-before precedence="true" extent="3cm"/>
```

When `precedence="true"`, the region-before spans the full page width. The `extent` property sets the height of the header region.

For comprehensive examples of managing region-before heights across different page-masters, including strategies for variable-height headers and dynamic content, see **guide-conditional-page-layouts**.

## See Also

- [fo:simple-page-master](fo-simple-page-master.md) — parent formatting object that contains region definitions
- [fo:region-body](fo-region-body.md) — the central content region
- [fo:region-after](fo-region-after.md) — the "after" side region (footer in lr-tb writing-mode)
- [fo:region-start](fo-region-start.md) — the "start" side region (left sidebar in lr-tb writing-mode)
- [fo:region-end](fo-region-end.md) — the "end" side region (right sidebar in lr-tb writing-mode)
- [fo:static-content](fo-static-content.md) — provides repeating content assigned to regions
