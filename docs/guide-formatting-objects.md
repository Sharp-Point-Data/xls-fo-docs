# Formatting Objects

## Overview

Formatting objects are the building blocks of XSL-FO document presentation. Chapter 6 of the W3C XSL-FO 2.0 specification defines the complete catalog of formatting objects, organized into categories: block-level, inline-level, table, list, bookmark, out-of-line, and other formatting objects. This guide covers the chapter introduction, definitions common to many formatting objects, formatting object content models, the formatting objects summary, and the introductory sections for each category. Individual formatting object definitions are documented in their own `fo-*.md` files.

Source: [W3C XSL-FO 2.0 -- Formatting Objects](https://www.w3.org/TR/xslfo20/#fo-section)

## Introduction to Formatting Objects

The refined formatting object tree describes one or more intended presentations of the information within this tree. Formatting is the process which converts the description into a presentation. The presentation is represented, abstractly, by an area tree, as defined in the area model. Each possible presentation is represented by one or more area trees in which the information in the refined formatting object tree is positioned on a two and one-half dimensional surface.

There are three kinds of formatting objects:

1. **Those that generate areas** -- formatting objects of this kind are said to "generate one or more areas". They may both generate and return areas.
2. **Those that return areas, but do not generate them** -- formatting objects of this kind are said to "return one or more areas".
3. **Those that are used in the generation of areas** -- these act like parameters to the generation process. They are either a **layout object** or an **auxiliary object**.

The first and second kinds are typically called **flow objects**. The third kind is either a layout object or an auxiliary object.

## Definitions Common to Many Formatting Objects

This categorization leads to defining two traits which characterize the relationship between an area and the formatting objects which generate and return that area: **generated-by** and **returned-by**.

### generated-by

The value of the `generated-by` trait is a single formatting object. A formatting object F is defined to **generate** an area A if the semantics of F specify the generation of one or more areas and A is one of the areas thus generated, or is a substituted form of one of the areas thus generated, as specified in the line-building section of the area model.

In the case of substituted glyph-areas, the generating formatting object is deemed to be the formatting object which generated the glyph-area which comes first in the sequence of substituted glyph-areas. In the case of an inserted glyph-area (e.g., an automatically-generated hyphen) the generating formatting object is deemed to be the generating formatting object of the last glyph-area preceding the inserted glyph-area in the pre-order traversal of the area tree.

### returned-by

The value of the `returned-by` trait is a set of pairs, where each pair consists of a formatting object and a positive integer. The integer represents the position of the area in the ordering of all areas returned by the formatting object.

A formatting object F is defined to **return the sequence of areas** A, B, C, ... if the pair (F,1) is a member of the `returned-by` trait of A, the pair (F,2) is a member of the `returned-by` trait of B, the pair (F,3) is a member of the `returned-by` trait of C, and so on.

If an area is a member of the sequence of areas returned by a formatting object, then either it was generated by the formatting object or it was a member of the sequence of areas returned by a child of that formatting object. Not all areas returned by a child of a formatting object need be returned by that formatting object. A formatting object may generate an area that has, as some of its children areas, areas returned by the children of that formatting object. These children (in the area tree) of the generated area are not returned by the formatting object to which they were returned.

### Lineage

A set of nodes in a tree is a **lineage** if:

- there is a node N in the set such that all the nodes in the set are ancestors of N, and
- for every node N in the set, if the set contains an ancestor of N, it also contains the parent of N.

The set of formatting objects that an area is returned by is a lineage.

### Normal and Out-of-Line Areas

Areas returned by a formatting object may be either **normal** or **out-of-line**. Normal areas represent areas in the "normal flow of text"; that is, they become area children of the areas generated by the formatting object to which they are returned. Normal areas have a `returned-by` lineage of size one. There is only one kind of normal area.

Out-of-line areas are areas used outside the normal flow of text either because they are absolutely positioned or they are part of a `float` or footnote. Out-of-line areas may have a `returned-by` lineage of size greater than one.

The `area-class` trait indicates which class, normal or out-of-line, an area belongs to. For out-of-line areas, it also indicates the subclass of out-of-line area. The values for this trait are: "xsl-normal", "xsl-absolute", "xsl-footnote", "xsl-side-float", or "xsl-before-float". An area is normal if and only if the value of the `area-class` trait is "xsl-normal"; otherwise, the area is an out-of-line area.

### Reference-Area Chain

A **reference-area chain** is defined as a sequence of reference-areas that is either generated by the same formatting object that is not a page-sequence formatting object, or that consists of the region reference-areas or normal-flow-reference-areas generated using region formatting objects assigned to the same flow. The reference-areas in the sequence are said to be "contained" by the reference-area chain, and they have the same ordering relative to each other in the sequence as they have in the area tree, using pre-order traversal order of the area tree.

## Formatting Object Content

The content of a formatting object is described using XML content-model syntax. In some cases additional constraints, not expressible in XML content models, are given in prose.

### Block-Level FOs (%block;)

The parameter entity `%block;` in the content models contains the following formatting objects:

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     block
     block-container
     table-and-caption
     table
     list-block
```

### Inline-Level FOs (%inline;)

The parameter entity `%inline;` in the content models contains the following formatting objects:

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     bidi-override
     character
     external-graphic
     instream-foreign-object
     inline
     inline-container
     leader
     page-number
     page-number-citation
     page-number-citation-last
     scaling-value-citation
     basic-link
     multi-toggle
     index-page-citation-list
```

### Neutral Containers

The following formatting objects are "neutral" containers and may be used, provided that the additional constraints listed under each formatting object are satisfied, anywhere where #PCDATA, %block;, or %inline; are allowed:

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     multi-switch
     multi-properties
     index-range-begin
     index-range-end
     wrapper
     retrieve-marker
```

The following formatting objects are "neutral" containers that may be used as described by the constraints listed under each formatting object:

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     retrieve-table-marker
```

### Point-Defining FOs

The following formatting objects define "points" and may be used anywhere as a descendant of `fo:flow` or `fo:static-content`:

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     change-bar-begin
     change-bar-end
```

### Out-of-Line FOs

The following "out-of-line" formatting objects may be used anywhere where #PCDATA, %block;, or %inline; are allowed (except as a descendant of any "out-of-line" formatting object):

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     float
```

The following "out-of-line" formatting objects may be used anywhere where #PCDATA or %inline; are allowed (except as a descendant of any "out-of-line" formatting object):

<!-- Source: https://www.w3.org/TR/xslfo20/#define-returned-by -->
```xml
     footnote
```

## Formatting Objects Summary

The following is a summary of all formatting objects defined in XSL-FO:

| Formatting Object | Description |
|---|---|
| `fo:basic-link` | Used for representing the start resource of a simple link. |
| `fo:bidi-override` | Used where it is necessary to override the default Unicode-bidirectional-algorithm direction for different (or nested) inline scripts in mixed-language documents. |
| `fo:block` | Commonly used for formatting paragraphs, titles, headlines, figure and table captions, etc. |
| `fo:block-container` | Used to generate a block-level reference-area. |
| `fo:bookmark` | Used to identify an access point, by name, and to specify where that access point is within the current document or another external document. A given bookmark may be further subdivided into a sequence of (sub-)bookmarks. |
| `fo:bookmark-title` | Used to identify, in human readable form, an access point. |
| `fo:bookmark-tree` | Used to hold a list of access points within the document such as a table of contents, a list of figures or tables, etc. |
| `fo:change-bar-begin` | Used to indicate the beginning of a "change region" ended by its matching `fo:change-bar-end`. The change region is decorated with a change bar. |
| `fo:change-bar-end` | Used to indicate the end of a "change region" started by its matching `fo:change-bar-begin`. |
| `fo:character` | Represents a character that is mapped to a glyph for presentation. |
| `fo:color-profile` | Used to declare a color profile for a stylesheet. |
| `fo:conditional-page-master-reference` | Used to identify a page-master that is to be used when the conditions on its use are satisfied. |
| `fo:declarations` | Used to group global declarations for a stylesheet. |
| `fo:external-graphic` | Used for a graphic where the graphics data resides outside of the XML result tree in the fo namespace. |
| `fo:float` | Serves two purposes: placing related content at the beginning of a page (before-float), or floating an area to one side with normal content flowing alongside (side-float). |
| `fo:flow` | Contains a sequence of flow objects that provides the flowing text content distributed into pages. |
| `fo:flow-assignment` | Used to specify the assignment of one sequence of flows to a sequence of regions. |
| `fo:flow-map` | Used to specify the assignment of flows to regions. |
| `fo:flow-name-specifier` | Used to specify one flow in a source-list. |
| `fo:flow-source-list` | Used to specify the sequence of flows to assign in a particular `fo:flow-assignment`. |
| `fo:flow-target-list` | Used to specify the sequence of regions to which flows are assigned in a particular `fo:flow-assignment`. |
| `fo:folio-prefix` | Specifies a static prefix for the folio numbers within a page-sequence. |
| `fo:folio-suffix` | Specifies a static suffix for the folio numbers within a page-sequence. |
| `fo:footnote` | Used to produce a footnote citation and the corresponding footnote. |
| `fo:footnote-body` | Used to generate the content of the footnote. |
| `fo:index-key-reference` | Used to generate a set of cited page items for all occurrences of the specified index-key. |
| `fo:index-page-citation-list` | Used to group together the sets of cited page items generated by its `fo:index-key-reference` children, generating a formatted list of page numbers and ranges. |
| `fo:index-page-citation-list-separator` | Specifies the formatting objects used to separate singleton page numbers or page number ranges in the generated list. |
| `fo:index-page-citation-range-separator` | Specifies the formatting objects used to separate two page numbers forming a range. |
| `fo:index-page-number-prefix` | Specifies a static prefix for the cited page items created by `fo:index-key-reference`. |
| `fo:index-page-number-suffix` | Specifies a static suffix for the cited page items created by `fo:index-key-reference`. |
| `fo:index-range-begin` | Used to indicate the beginning of an "indexed range" associated with an index key. |
| `fo:index-range-end` | Used to indicate the end of an "indexed range" started by its matching `fo:index-range-begin`. |
| `fo:initial-property-set` | Specifies formatting properties for the first line of an `fo:block`. |
| `fo:inline` | Commonly used for formatting a portion of text with a background or enclosing it in a border. |
| `fo:inline-container` | Used to generate an inline reference-area. |
| `fo:instream-foreign-object` | Used for an inline graphic or other "generic" object where the object data resides as descendants of the `fo:instream-foreign-object`. |
| `fo:layout-master-set` | A wrapper around masters used in the document. |
| `fo:leader` | Used to generate leaders consisting of a rule or a row of repeating characters, often used for connecting two text formatting objects. |
| `fo:list-block` | Used to format a list. |
| `fo:list-item` | Contains the label and the body of an item in a list. |
| `fo:list-item-body` | Contains the content of the body of a list-item. |
| `fo:list-item-label` | Contains the content of the label of a list-item; typically used to enumerate, identify, or adorn the list-item's body. |
| `fo:marker` | Used in conjunction with `fo:retrieve-marker` or `fo:retrieve-table-marker` to produce running headers or footers. |
| `fo:multi-case` | Used to contain (within an `fo:multi-switch`) each alternative sub-tree of formatting objects. |
| `fo:multi-properties` | Used to switch between two or more property sets associated with a given portion of content. |
| `fo:multi-property-set` | Used to specify an alternative set of formatting properties dependent on a User Agent state. |
| `fo:multi-switch` | Wraps the specification of alternative sub-trees of formatting objects and controls the switching from one alternative to another. |
| `fo:multi-toggle` | Used within an `fo:multi-case` to switch to another `fo:multi-case`. |
| `fo:page-number` | Used to represent the current page-number. |
| `fo:page-number-citation` | Used to reference the page-number for the page containing the first normal area returned by the cited formatting object. |
| `fo:page-number-citation-last` | Used to reference the page-number for the last page containing an area returned by the cited formatting object with a consistent area-class. |
| `fo:page-sequence` | Used to specify how to create a (sub-)sequence of pages within a document. Content comes from flow children. |
| `fo:page-sequence-master` | Specifies sequences of page-masters used when generating a sequence of pages. |
| `fo:page-sequence-wrapper` | Used to specify inherited properties for a group of `fo:page-sequence` formatting objects. No additional formatting semantics. |
| `fo:region-after` | Defines a viewport located on the "after" side of `fo:region-body`. |
| `fo:region-before` | Defines a viewport located on the "before" side of `fo:region-body`. |
| `fo:region-body` | Specifies a viewport/reference pair located in the "center" of the `fo:simple-page-master`. |
| `fo:region-end` | Defines a viewport located on the "end" side of `fo:region-body`. |
| `fo:region-name-specifier` | Used to specify one region in a target-list. |
| `fo:region-start` | Defines a viewport located on the "start" side of `fo:region-body`. |
| `fo:repeatable-page-master-alternatives` | Specifies a sub-sequence consisting of repeated instances of a set of alternative page-masters. |
| `fo:repeatable-page-master-reference` | Specifies a sub-sequence consisting of repeated instances of a single page-master. |
| `fo:retrieve-marker` | Used in conjunction with `fo:marker` to produce running headers or footers. |
| `fo:retrieve-table-marker` | Used in conjunction with `fo:marker` to produce table-headers and table-footers whose content can change over different pages, regions, or columns. |
| `fo:root` | The top node of an XSL result tree composed of formatting objects. |
| `fo:scaling-value-citation` | Used to obtain the scale-factor applied to the cited `fo:external-graphic`. |
| `fo:simple-page-master` | Used in the generation of pages and specifies the geometry of the page, subdivided into regions. |
| `fo:single-page-master-reference` | Specifies a sub-sequence consisting of a single instance of a single page-master. |
| `fo:static-content` | Holds a sequence or tree of formatting objects to be presented in a single region or repeated in like-named regions on one or more pages. Common use: repeating headers and footers. |
| `fo:table` | Used for formatting the tabular material of a table. |
| `fo:table-and-caption` | Used for formatting a table together with its caption. |
| `fo:table-body` | Used to contain the content of the table body. |
| `fo:table-caption` | Used to contain block-level formatting objects for the caption of the table (only when using `fo:table-and-caption`). |
| `fo:table-cell` | Used to group content to be placed in a table cell. |
| `fo:table-column` | Specifies characteristics applicable to table cells that have the same column and span. |
| `fo:table-footer` | Used to contain the content of the table footer. |
| `fo:table-header` | Used to contain the content of the table header. |
| `fo:table-row` | Used to group table-cells into rows. |
| `fo:title` | Used to associate a title with a given page-sequence. May be used by an interactive User Agent to identify the pages. |
| `fo:wrapper` | Used to specify inherited properties for a group of formatting objects. No additional formatting semantics. |

## Block-Level Formatting Objects

The `fo:block` formatting object is used for formatting paragraphs, titles, figure captions, table titles, etc. The following examples illustrate the usage of `fo:block` in a stylesheet.

### Example: Chapter and Section Formatting

The following example shows the use of `fo:block` for chapter and section titles, and paragraphs, demonstrating space resolution with `space-before`, `space-after`, and `precedence` properties.

> See [fo-block.md](fo-block.md) for the complete block-level formatting example (source XML, XSLT, and resulting FO).

## Inline-Level Formatting Objects

Inline-level formatting objects are most commonly used to format a portion of text or for generating rules and leaders. There are many other uses. The following examples illustrate some of these uses of inline-level formatting objects:

- Putting the first line of a paragraph into small-caps
- Turning a normally inline formatting object, `fo:external-graphic`, into a block by "wrapping" with an `fo:block` formatting object
- Formatting a running footer containing the word "Page" followed by a page number

### Example: First Line of Paragraph in Small-caps

This example demonstrates using `fo:initial-property-set` to apply `font-variant="small-caps"` to the first line of a paragraph.

> See [fo-initial-property-set.md](fo-initial-property-set.md) for the complete initial-property-set example (source XML, XSLT, and resulting FO).

### Example: Figure with a Photograph

This example demonstrates placing an `fo:external-graphic` as a centered block-level object with a caption.

> See [fo-external-graphic.md](fo-external-graphic.md) for the complete figure with photograph example (source XML, XSLT, and resulting FO).

### Example: Page Numbering and Page Number Reference

This example demonstrates running footers with `fo:page-number` and cross-references with `fo:page-number-citation`.

> See [fo-page-number-citation.md](fo-page-number-citation.md) for the complete page numbering and page number reference example (source XML, XSLT, and resulting FO).

### Example: Table of Contents with Leaders

This example demonstrates formatting a table of contents with dot leaders between heading text and page numbers, using `fo:retrieve-marker`, `fo:leader`, `fo:basic-link`, and `fo:page-number-citation`.

> See [fo-retrieve-marker.md](fo-retrieve-marker.md) for the complete table of contents with leaders example (source XML, XSLT, and resulting FO).

## Formatting Objects for Tables

There are nine formatting objects used to construct tables: `fo:table-and-caption`, `fo:table`, `fo:table-column`, `fo:table-caption`, `fo:table-header`, `fo:table-footer`, `fo:table-body`, `fo:table-row`, and `fo:table-cell`.

Text alignment is ordinarily the same for all cells in a column, so the natural choice is to specify the `text-align` property on the `fo:table-column` and specify `text-align="from-table-column()"` on all the `fo:table-cell` objects in that column. To specify a value other than the default for a specific `fo:table-cell` in the table-column, use that value in the `text-align` property.

### Table Header and Footer on Boundaries

To specify different instances of what the table header or footer should be like depending on the different boundaries (page, column, and region), XSL-FO provides formatting objects for selecting alternative headers and footers: `fo:table-header-alternatives`, `fo:table-footer-alternatives`, `fo:conditional-table-header-reference`, and `fo:conditional-table-footer-reference`.

- `fo:table-header-alternatives` is a child object of `fo:table-header`. It does not have any properties.
- `fo:table-footer-alternatives` is a child object of `fo:table-footer`. It does not have any properties.
- `fo:conditional-table-header-reference` is a child of `fo:table-header-alternatives`. It has a `header-position` property.
- `fo:conditional-table-footer-reference` is a child of `fo:table-footer-alternatives`. It has a `footer-position` property.

The valid values for both `header-position` and `footer-position` are "page", "column", and "region". If a `fo:conditional-table-footer-reference` does not have a `header-position` or `footer-position` property, it is taken to be the default reference for the table.

> See [fo-table-header-alternatives.md](fo-table-header-alternatives.md) for the complete conditional table header/footer example with XSL-FO snippet.

### Example: Simple Table, Centered and Indented

This example demonstrates a centered table with caption using `fo:table-and-caption`, where centering and indent are reset for caption and cell content.

> See [fo-table-and-caption.md](fo-table-and-caption.md) for the complete table with caption example (source XML, XSLT, and resulting FO).

### Example: CALS Table with Proportional Column Widths

This example demonstrates a CALS-style table with proportional column widths using `proportional-column-width()`, vertical alignment via `display-align`, and per-cell text alignment.

> See [fo-table.md](fo-table.md) for the complete CALS table with proportional column widths example (source XML, XSLT including the `calc.column.width` template, and resulting FO).

## Formatting Objects for Lists

There are four formatting objects used to construct lists: `fo:list-block`, `fo:list-item`, `fo:list-item-label`, and `fo:list-item-body`.

The `fo:list-block` has the role of containing the complete list and of specifying values used for the list geometry in the inline-progression-direction.

The children of the `fo:list-block` are one or more `fo:list-item`, each containing a pair of `fo:list-item-label` and `fo:list-item-body`.

The `fo:list-item` has the role of containing each item in a list.

The `fo:list-item-label` has the role of containing the content (block-level formatting objects) of the label for the list-item; typically an `fo:block` containing a number, a dingbat character, or a term.

The `fo:list-item-body` has the role of containing the content (block-level formatting objects) of the body of the list-item; typically one or more `fo:block`.

### List Geometry

The specification of the list geometry in the inline-progression-direction is achieved by:

1. Specifying appropriate values of the `provisional-distance-between-starts` and `provisional-label-separation` properties. The `provisional-distance-between-starts` specifies the desired distance between the start-indents of the label and the body of the list-item. The `provisional-label-separation` specifies the desired separation between the `end-indent` of the label and the `start-indent` of the body of the list-item.

2. Specifying `end-indent="label-end()"` on the `fo:list-item-label`. Specifying `start-indent="body-start()"` on the `fo:list-item-body`.

The `start-indent` of the list-item-label and `end-indent` of the list-item-body, if desired, are typically specified as a length.

### Example: Enumerated List

This example demonstrates an alphabetically enumerated list using `fo:list-block`, `fo:list-item`, `fo:list-item-label`, and `fo:list-item-body` with `provisional-distance-between-starts` and `label-end()`/`body-start()` functions.

> See [fo-list-block.md](fo-list-block.md) for the complete enumerated list example (source XML, XSLT, and resulting FO).

### Example: HTML-style Definition Lists

This example demonstrates converting HTML-style `"dl"` lists (with unwrapped `"dt"`/`"dd"` pairs) into `fo:list-block` structures, handling both balanced and unbalanced dt/dd groupings with the `$allow-naked-dd` variable.

> See [fo-list-item.md](fo-list-item.md) for the complete definition list example (source XML, both result variants, XSLT main stylesheet, and included "dtdd.xsl" stylesheet).

## Formatting Objects for Bookmarks

The `fo:bookmark-tree` formatting object is used to hold a list of access points within the document such as a table of contents, a list of figures or tables, etc. Each access point is called a bookmark.

The `fo:bookmark` formatting object is used to identify an access point, by name, and to specify where that access point is within the current document or another external document. A given bookmark may be further subdivided into a sequence of (sub-)bookmarks to as many levels as the authors desire. The `fo:bookmark` is a specialized form of the `fo:basic-link` with restrictions on the applicable properties and on its content model.

One of the `external-destination` and `internal-destination` properties should be specified on `fo:bookmark`. If both are specified, the system may either report it as an error, or use the `internal-destination` property. The property `starting-state` determines whether any sub-list of bookmarks is initially displayed or is hidden. The value "show" means include the sub-list; the value "hide" means show only this bookmark.

The `fo:bookmark-title` formatting object is used to identify, in human readable form, an access point. It is a specialized form of `fo:inline` with restrictions on the applicable properties and on its content model.

## Out-of-Line Formatting Objects

### Floats

The `fo:float` formatting object is used for two distinct purposes.

First, so that during the normal placement of content, some related content is formatted into a separate area at the beginning of a page where it is available to be read without immediately intruding on the reader. The areas generated by this kind of `fo:float` are called **before-floats**. An `fo:float` is specified to generate before-floats if it has a `float` property value of "before". The constraints on placing before-floats on a page are described in the Conditional Sub-Regions section and in the description of the `fo:float` formatting object.

Second, the `fo:float` formatting object is used when an area is intended to float to one side, with normal content flowing alongside the floated area. The areas generated by this kind of `fo:float` are called **side-floats**. A side-float is always made a child of the nearest ancestor reference-area. The edge of the reference-area towards which the side-float floats is controlled by the value of the `float` property.

Flowing normal content alongside side-floats is realized by increasing the start-intrusion-adjustment or the end-intrusion-adjustment of normal child areas of the parent reference-area of the side-float.

The `clear` property applies to any block-level formatting object. If the value of this property for a particular formatting object is any value other than "none", then the areas generated by the block will be positioned to ensure that their border-rectangles do not overlap the allocation-rectangles of the applicable side-floats as determined by the `clear` property value.

### Footnotes

The `fo:footnote` formatting object is used to generate both a footnote and its citation. The `fo:footnote` has two children, which are both required to be present. The first child is an `fo:inline` formatting object, which is formatted to produce the footnote citation. The second child is an `fo:footnote-body` formatting object which generates the content (or body) of the footnote.

The actual areas generated by the descendants of the `fo:footnote-body` formatting object are determined by the formatting objects that comprise the descendant subtree. For example, the footnote could be formatted with a label and an indented body by using the `fo:list-block` formatting object within the `fo:footnote-body`.

### Conditional Sub-Regions

The region-body has two conditional sub-regions which implicitly specify corresponding reference-areas called **before-float-reference-area** and **footnote-reference-area**. These reference-areas are conditionally generated as children of the region-reference-area. The before-float-reference-area is generated only if the page contains one or more areas with area-class "xsl-before-float". The footnote-reference-area is generated only if the page contains one or more areas with area-class "xsl-footnote".

The conditionally generated areas borrow space in the block-progression-dimension within the region-reference-area, at the expense of the main-reference-area. Whether or not a conditionally generated area is actually generated depends, additionally, on whether there is sufficient space left in the main-reference-area.

If there is an `fo:static-content` in a page-sequence whose `flow-name` property value is "xsl-before-float-separator", then the areas returned by formatting the `fo:static-content` are inserted as the last children of a before-float-reference-area, provided the main-reference-area on the page is not empty.

If there is an `fo:static-content` whose `flow-name` property value is "xsl-footnote-separator", then the areas returned by formatting the `fo:static-content` are inserted as the initial children of a footnote-reference-area.

### Example: Floating Figure

This example demonstrates placing figures as before-floats (top of page in lr-tb writing-mode) using `fo:float` with `float="before"`.

> See [fo-float.md](fo-float.md) for the complete floating figure example (source XML, XSLT, and resulting FO).

### Example: Footnote

This example demonstrates `fo:footnote` with a superscript citation (`fo:inline` with `baseline-shift="super"`) and a structured `fo:footnote-body` using `fo:list-block` for numbered footnote formatting.

> See [fo-footnote.md](fo-footnote.md) for the complete footnote example (source XML, XSLT, and resulting FO).

## Other Formatting Objects

### Example: Wrapper

This example demonstrates `fo:wrapper` as a property-carrying container with no formatting semantics of its own, used here to apply `font-weight="bold"` and `font-family="Courier"` to inline text spans.

> See [fo-wrapper.md](fo-wrapper.md) for the complete wrapper example (source XML, XSLT, and resulting FO).

### Example: Table Markers (retrieve-table-marker)

This example demonstrates using `fo:retrieve-table-marker` to create dynamic table footers with subtotals and a "Table continued..." caption that changes depending on whether the table continues on the next page.

> See [fo-retrieve-table-marker.md](fo-retrieve-table-marker.md) for the complete retrieve-table-marker example (source XML, XSLT, and resulting FO).

### Example: retrieve-table-marker Scope

This example demonstrates how the retrieve scope area set is determined for `fo:retrieve-table-marker` based on the `retrieve-position-within-table` and `retrieve-boundary-within-table` properties in a two-column layout.

> See [fo-marker.md](fo-marker.md) for the complete multi-column retrieve-table-marker scope example with two-column layout.

## Conformance Levels

The specification defines conformance levels for formatting objects across visual and aural media:

### Out-of-Line Formatting Objects

| Formatting Object | Visual | Aural |
|---|---|---|
| `fo:float` | extended (fallback: place inline) | extended (fallback: place inline) |
| `fo:footnote` | extended (fallback: place inline) | extended (fallback: place inline) |
| `fo:footnote-body` | extended (fallback: place inline) | extended (fallback: place inline) |

### Formatting Objects for Bookmarks

| Formatting Object | Visual | Aural |
|---|---|---|
| `fo:bookmark-tree` | extended (fallback: display indication that content cannot be correctly rendered) | extended (fallback: speak an indication that content cannot be correctly spoken) |
| `fo:bookmark` | extended (fallback: ignore) | extended (fallback: ignore) |
| `fo:bookmark-title` | extended (fallback: ignore) | extended (fallback: ignore) |

### Other Formatting Objects

| Formatting Object | Visual | Aural |
|---|---|---|
| `fo:change-bar-begin` | extended (fallback: ignore) | extended (fallback: ignore) |
| `fo:change-bar-end` | extended (fallback: ignore) | extended (fallback: ignore) |
| `fo:wrapper` | basic | basic |
| `fo:marker` | extended (fallback: ignore) | extended (fallback: ignore) |
| `fo:retrieve-marker` | extended (fallback: display indication that content cannot be correctly rendered) | extended (fallback: speak an indication that content cannot be correctly rendered) |
| `fo:retrieve-table-marker` | extended (fallback: display indication that content cannot be correctly rendered) | extended (fallback: speak an indication that content cannot be correctly rendered) |

## See Also

- [fo-block.md](fo-block.md) -- The primary block-level formatting object
- [fo-inline.md](fo-inline.md) -- The primary inline-level formatting object
- [fo-table.md](fo-table.md) -- The table formatting object
- [fo-list-block.md](fo-list-block.md) -- The list formatting object
- [fo-float.md](fo-float.md) -- The float formatting object
- [fo-footnote.md](fo-footnote.md) -- The footnote formatting object
- [fo-wrapper.md](fo-wrapper.md) -- The wrapper formatting object
- [fo-basic-link.md](fo-basic-link.md) -- The basic-link formatting object
- [fo-external-graphic.md](fo-external-graphic.md) -- The external-graphic formatting object
- [fo-page-number.md](fo-page-number.md) -- The page-number formatting object
- [fo-page-number-citation.md](fo-page-number-citation.md) -- The page-number-citation formatting object
- [fo-leader.md](fo-leader.md) -- The leader formatting object
- [fo-marker.md](fo-marker.md) -- The marker formatting object
- [fo-retrieve-table-marker.md](fo-retrieve-table-marker.md) -- The retrieve-table-marker formatting object
- [guide-formatting-intro.md](guide-formatting-intro.md) -- Introduction to XSL-FO formatting concepts
- [guide-area-model.md](guide-area-model.md) -- The XSL-FO area model
